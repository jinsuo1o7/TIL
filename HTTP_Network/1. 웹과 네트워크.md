## HTTP ( HyperText Transfer Protocol )

웹 브라우저( Client )가 서버에게 리소스를 요청하고 전달 받는 일련의 “약속 ( 프로토콜 )”

## TCP/IP

인터넷과 관련된 프로토콜의 집합 ( HTTP, FTP, SNMP, DNS, TCP, IP …)

## **TCP/IP 의 계층**

### **애플리케이션 계층**

**FTP, DNS, HTTP**

유저에게 제공되는 애플리케이션에서 사용되는 통신의 움직임을 결정

### **트랜스포트 계층**

**TCP, UDP**

애플리케이션 계층에 네트워크로 접속되어 있는 2대의 컴퓨터 사이의 데이터 흐름을 제공

### **네트워크 계층 ( IP )**

네트워크 상에 패킷의 이동을 다룸, 어떤 경로를 통해 상대 컴퓨터에게 패킷을 보낼지 결정

### **링크 계층 ( 데이터 링크, 네트워크 계층 )**

네트워크에 접속하는 하드웨어적인 부분을 다룸

**TCP/IP 통신 흐름**

송신측 애플리케이션 계층부터 내려가서 수신측 애플리케이션 계층으로 올라가는 흐름

1. 클라이언트가 웹 페이지 요구 ( HTTP 리퀘스트 ) - 애플리케이션 계층
2. TCP에서 애플리케이션 계층에서 받은 데이터를 조각내어 **안내 번호와 포트 번호**를 붙여 네트워크에 전달
3. IP에서는 수진지 MAC 주소를 추가하여 링크 계층에 전달
4. 수신측 서버는 링크 계층에서 데이터를 받아 애플리케이션 계층까지 도달

- 캡슐화 - 송신측에서 리퀘스트 할때 각 계층을 거칠때마다 HTTP헤더, TCP 헤더, IP헤더, Ethernet헤더가 붙고 수신측에서는 각 헤더를 삭제하면서 계층을 올림

## HTTP 가장 관계깊은 프로토콜

### **IP( Internet Protocol ) 배송 담당**

IP 주소와 MAC 주소를 이용하여 패킷을 상대방에게 전달하는 역할 ( 네트워크 계층 3 )

**ARP( Address Resolution Protocol )**

보통 상대방이 같은 랜선 내에 있을 경우가 적기 때문에 여러대의 컴퓨터를 거쳐서 상대에게 도달함

ARP는 중계하는 과정에서 다음 중계할 곳의 MAC 주소를 사용하여 목적지를 찾는 역할을 함

### **TCP( Trancfer Control Protocol ) 신뢰 담당**

신뢰성있는 바이트 스트림 서비스를 제공 ( 전송 계층 4 )

**바이트 스트림 서비스** : 용량이 큰 데이터를 보내기 쉽게 TCP 세그먼트라고 불리는 단위 패킷으로 작게 분리

신뢰성 있는 서비스 : 상대방에게 정확하게 도착했는지 확인하는 역할

### **3 way handshaking**

패킷을 보내고 끝내는 것이 아닌 SYN, ACK라는 TCP플래그를 사용하여 확인하는 방법

송신측 SYN 플래그로 상대에게 접속함과 동시에 패킷을 보냄

수신측 SYN/ACK 플래그로 송신측에 접속함과 동시에 패킷을 수신한 사실을 보냄

송신측 ACK 플래그를 보내 패킷 교환이 완료됨을 전달

- 과정 중간에 통신이 끊어지면 TCP는 패킷을 재전송 함

### DNS ( Domain Name System ) 이름 해결

DNS가 도메인 명에서 IP주소를 알아내거나 반대로 IP 주소에서 도메인 이름을 알아내는 서비스를 제공 함

---

## URI와 URL

### URI ( Uniform Resource Idendtifiers )

Uniform : 통일된 서식을 결정하는 것, 여러가지 리소스 지정 방법을 구별없이 취급할 수 있게 함

새로운 스키마를 도입 ( http:, ftp 등 )

Resource : ‘식별 가능한 모든 것’ 도큐먼트 파일 뿐만아니라 이미지와 서비스 등 다른 것들과 구별 할 수 있는 것들은 모두 리소스라고 함

Identifier : 식별 가능한 것을 참조하는 오브젝트이자 식별자. 스키마는 리소스를 얻기 위한 수단에 이름을 붙이는 방법

```
URI의 예
http://www.google.com
ftp://ttp.is.co.za
mailto:cil04110@gmail.com
news:comp.intosystems.www.servers.unix

URL은 리소스의 장소를 나타내고 URI는 리소스를 식별하는 모든 문자열을 뜻함
따러서 URL은 URI의 서브셋임
```

```json
http://user:pass@www.example.jp:80/dir/index.htm?uid=1#ch1

http - 스키마
user:pass - 크리덴셜 (자격정보) - id와 패스워드를 통해 자격 정보를 입력
www.example.jp - 서버 주소 - DNS이름이나 IP주소를 지정
80 서버 포트 - 네트워크 포트를 번호를 지정 ( 생략하면 디폴트 포트 )
dir/index.htm - 계층적 파일 패스 ( 서버상의 파일 패스를 지정 )
uid=1 - 쿼리 문자열 ( 리소스에 파라미터를 넘겨주기 위해 쿼리 문자열을 사용 )
ch1 - 프래그먼트 식별자
```
